apiVersion: v1
kind: ConfigMap
metadata:
  name: mlflow-config
  namespace: mlflow
  labels:
    app: mlflow
data:
  # MLflow Tracking Server configuration
  # Backend store URI (PostgreSQL)
  # Format: postgresql://user:password@host:port/database
  # Uses existing PostgreSQL service in llm-ops-dev namespace
  MLFLOW_BACKEND_STORE_URI: "postgresql://llmops:password@postgresql.llm-ops-dev.svc.cluster.local:5432/mlflow"
  
  # Default artifact root (S3/MinIO)
  # Format: s3://bucket-name/path
  # Uses existing MinIO service in llm-ops-dev namespace
  MLFLOW_DEFAULT_ARTIFACT_ROOT: "s3://mlflow-artifacts/"
  
  # S3 endpoint URL for MinIO
  AWS_ENDPOINT_URL: "http://minio.llm-ops-dev.svc.cluster.local:9000"
  
  # S3 access credentials (will be provided via Secret)
  # AWS_ACCESS_KEY_ID and AWS_SECRET_ACCESS_KEY are set via Secret
  
  # MLflow server host and port
  MLFLOW_HOST: "0.0.0.0"
  MLFLOW_PORT: "5000"
  
  # Enable CORS for frontend access
  MLFLOW_CORS_ALLOW_ORIGINS: "*"

