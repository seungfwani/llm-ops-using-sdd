{{- /*
Creates object store credentials secret and config configmap for MinIO/S3 access.
Secret keys align with backend expectation: access-key-id / secret-access-key.
*/ -}}
{{- if .Values.objectStore }}
---
apiVersion: v1
kind: Secret
metadata:
  name: llm-ops-object-store-credentials
  namespace: {{ .Release.Namespace }}
  labels:
    {{- include "llmops.labels" . | nindent 4 }}
type: Opaque
data:
  access-key-id: {{ .Values.objectStore.credentials.accessKey | default "llmops" | b64enc | quote }}
  secret-access-key: {{ .Values.objectStore.credentials.secretKey | default "llmops-secret" | b64enc | quote }}
---
apiVersion: v1
kind: ConfigMap
metadata:
  name: llm-ops-object-store-config
  namespace: {{ .Release.Namespace }}
  labels:
    {{- include "llmops.labels" . | nindent 4 }}
data:
  endpoint-url: {{ .Values.objectStore.config.endpointUrl | default "http://minio:9000" | quote }}
{{- end }}

